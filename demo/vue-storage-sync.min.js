!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueStorageSync=t()}(this,function(){"use strict";var e={key:"vue-data-sync",duration:0,storage:"local"},t={local:{set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},remove:function(e){return window.localStorage.removeItem(e)}},session:{set:function(e,t){return window.sessionStorage.setItem(e,t)},get:function(e){return window.sessionStorage.getItem(e)},remove:function(e){return window.sessionStorage.removeItem(e)}}},n=function(e){var n,o=t[e.storage],r=JSON.parse(o.get(e.key));return r?(n=r.expires,0!==(n=Number.parseInt(n,10))&&n<(new Date).getTime()/1e3?(o.remove(e.key),{}):r.data):{}},o=function(e){var o=this;(e=function(e){var n=Object.assign({},VueStorageSync.pluginDefaultOptions,VueStorageSync.userDefaultOptions);return Array.isArray(e)?(n.entries=e,[n]):Object.keys(e).some(function(e){return Object.keys(t).includes(e)})?Object.keys(t).map(function(t){if(null!=e[t])return Object.assign({},n,e[t],{storage:t})}):[Object.assign({},n,e)]}(e)).forEach(function(e){var r=n(e);r&&Object.keys(r).forEach(function(e){o[e]=r[e]}),e.entries.forEach(function(r){o.$watch(r,function(o){!function(e,o,r){var i=t[r.storage],s=n(r);s[e]=o;var a={data:s,expires:r.duration>0?r.duration+(new Date).getTime()/1e3:0};i.set(r.key,JSON.stringify(a))}(r,o,e)},{deep:!0})})})},r=function(){this.$storageSync=o},i=function(){var e=this.$options.storage;e&&this.$storageSync(e)};return{install:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pluginDefaultOptions=e,this.userDefaultOptions=n,t.mixin({beforeCreate:r,mounted:i})}}});
//# sourceMappingURL=vue-storage-sync.min.js.map
