/*!
 * vue-storage-sync v1.0.0
 * (c) 2018-present Geandre Miranda <geandremiranda.ms@gmail.com> (https://geandre.github.io)
 * Released under the ISC License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueStorageSync=t()}(this,function(){"use strict";var e={key:"vue-data-sync",duration:0,storage:"local"},t={local:{set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},remove:function(e){return window.localStorage.removeItem(e)}},session:{set:function(e,t){return window.sessionStorage.setItem(e,t)},get:function(e){return window.sessionStorage.getItem(e)},remove:function(e){return window.sessionStorage.removeItem(e)}}},n=function(e){var n=Object.assign({},VueStorageSync.pluginDefaultOptions,VueStorageSync.userDefaultOptions);return Array.isArray(e)?(n.entries=e,[n]):Object.keys(e).some(function(e){return Object.keys(t).includes(e)})?Object.keys(t).map(function(t){if(null!=e[t])return Object.assign({},n,e[t],{storage:t})}):[Object.assign({},n,e)]},o=function(e){e=n(e)[0];var o,r=t[e.storage],i=e.suffix?"".concat(e.key,"/").concat(e.suffix):e.key,s=JSON.parse(r.get(i));return s?(o=s.expires,0!==(o=Number.parseInt(o,10))&&o<(new Date).getTime()/1e3?(r.remove(i),{}):s.data):{}},r=function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(r=n(r)).forEach(function(r){var i=o(r);i&&Object.keys(i).forEach(function(t){e[t]=i[t]}),null!=r.entries&&r.entries.forEach(function(i){e.$watch(i,function(e){!function(e,r,i){i=n(i)[0];var s=t[i.storage],a=o(i);a[e]=r;var u={data:a,expires:i.duration>0?i.duration+(new Date).getTime()/1e3:0},c=i.suffix?"".concat(i.key,"/").concat(i.suffix):i.key;s.set(c,JSON.stringify(u))}(i,e,r)},{deep:!0})})})},i=function(){this.$storageSync=r},s=function(){var e=this.$options.storage;e&&this.$storageSync(e)};return{install:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pluginDefaultOptions=e,this.userDefaultOptions=n,t.mixin({beforeCreate:i,created:s})}}});
//# sourceMappingURL=vue-storage-sync.min.js.map
